<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
    data-namespace-typo3-fluid="true">

    <f:layout name="Default" />

	<f:section name="main">

        <h3>Darstellung einzelner Aussagen im Polaritätsprofil</h3>
        <div id="chart_{surveyResult.uid}"></div>

        <h3>Darstellung der Durchschnittswerte für die übergeordneten fünf Kategorien</h3>
        <div class="tiles-wrapper">
            <div class="tiles flex-container flex-container--margin">
                <f:for each="{bars}" as="comparison" iteration="iterBar" key="identifier">
                    <div class="flex-item flex-basis-12"><!-- @todo: flex-basis-4 forces last chart to new line -->
                        <div class="tile tile--no-img">
                            <a href="#">
                                <div class="tile__content">
                                    <h3 class="tile__title">
                                        <span class="tile__title-text">
                                            {comparison.title}
                                        </span>
                                    </h3>
                                    <div id="{identifier}" class="tile__text tile__text--no-img">
                                    </div>
                                </div>
                                <div class="tile__footer">
                                </div>
                            </a>
                        </div>
                    </div>
                </f:for>
            </div>
        </div>

        <h3>Darstellung der Werte in Form von Donuts</h3>
        <div class="tiles-wrapper">
            <div class="tiles flex-container flex-container--margin">
                <f:for each="{donuts}" as="donut" iteration="iterDonut" key="identifier">
                    <p>{donut.question}</p>
                    <f:for each="{donut.data}" as="comparison" iteration="iterComparison" key="comparisonIdentifier">

                        <div class="flex-item flex-basis-4">
                            <div class="tile tile--no-img">
                                <a href="#">
                                    <div class="tile__content">
                                        <h3 class="tile__title">
                                            <span class="tile__title-text">
                                                {comparison.region}
                                            </span>
                                        </h3>
                                        <div id="{identifier}_{comparisonIdentifier}" class="tile__text tile__text--no-img">
                                        </div>
                                    </div>
                                    <div class="tile__footer">
                                    </div>
                                </a>
                            </div>
                        </div>

                    </f:for>
                </f:for>
            </div>
        </div>

        <h3>Ergänzende Daten für den Fitnesscheck</h3>

        <h3>Normale Umfrage</h3>

        <f:if condition="{settings.showSurveyNameIntroExtro}">
            <f:then>
                <h2 id="tx-rkwsurvey-head" class="h2">{surveyResult.survey.name}</h2>
                <f:format.html parseFuncTSPath="lib.parseFunc_RTE">{surveyResult.survey.endtext}</f:format.html>
            </f:then>
            <f:else>
                <div id="tx-rkwsurvey-head">
                    <f:format.html parseFuncTSPath="lib.parseFunc_RTE">{surveyResult.survey.endtext}</f:format.html>
                </div>
            </f:else>
        </f:if>

        <f:if condition="{settings.contact.show.contactForm}">
            <f:link.action class="btn btn--primary" action="newContact" controller="Survey" arguments="{surveyResult:surveyResult, tokenInput:tokenInput}" section="tx-rkwsurvey-head">
               <f:translate key="templates_survey_result.createContact" />
            </f:link.action>
        </f:if>

    </f:section>

</html>